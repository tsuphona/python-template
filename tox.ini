[tox]
requires =
    tox>=4
env_list = py{38,310}, black

[testenv]
description = run unit tests
deps =
    -r requirements.txt
commands =
    pytest {posargs:tests}

[testenv:linters]
description = run linters
skip_install = true
deps =
    black==22.6
    flake8==6.0 
commands = 
    black --check .
    flake8 .

; [testenv:type]
; description = run type checks
; deps =
;     mypy>=0.991
; commands =
;     mypy {posargs:src tests}

[flake8]
max-line-length = 88
extend-ignore = E203
exclude =
    # The conf file is mostly autogenerated, ignore it
    docs/conf.py,
    # No need to check .tox directory
    .tox